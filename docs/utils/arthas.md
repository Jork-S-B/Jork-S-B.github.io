Java åº”ç”¨è¯Šæ–­åˆ©å™¨ï¼Œä¸€æ¬¾çº¿ä¸Šç›‘æ§è¯Šæ–­äº§å“ï¼Œèƒ½åœ¨ä¸ä¿®æ”¹åº”ç”¨æºä»£ç çš„æƒ…å†µä¸‹ï¼Œå¯¹ä¸šåŠ¡é—®é¢˜è¿›è¡Œè¯Šæ–­ã€‚

## ğŸ“Œ å¸¸ç”¨å‘½ä»¤

### ğŸš jad-åç¼–è¯‘

`jad ç±»çš„å®Œæ•´è·¯å¾„`ï¼Œè¿›è¡Œåç¼–è¯‘ï¼Œæ£€æŸ¥ç±»çš„æºä»£ç æ˜¯å¦æ­£ç¡®ã€‚

### ğŸš thread-çº¿ç¨‹ä¿¡æ¯

* `thread -b`  # æŸ¥æ­»é”
* `thread -3`  # æŸ¥CPUå ç”¨å‰3çš„çº¿ç¨‹
* `thread 23`  # thread çº¿ç¨‹idï¼Œæ‰“å°å¯¹åº”çš„å †æ ˆï¼Œä»¥æ‰¾åˆ°å®é™…ä»£ç 

### ğŸš trace-ç›‘æ§æ–¹æ³•è€—æ—¶

`trace ç±»å æ–¹æ³•å`

ä¸¾ä¾‹: `trace --skipJDKMethod false cn.demo.advfilter.handler.JudgeLabelsHandler doJudge '#cost > 200' -n 5`

å‚æ•°è¯´æ˜:

* --skipJDKMethod falseï¼Œä¸è·³è¿‡jdkå‡½æ•°ï¼Œé»˜è®¤ä¼šè·³è¿‡
* '#cost > 200'ï¼Œè€—æ—¶å¤§äº200msçš„å‡½æ•°
* -n 5ï¼ŒæŒ‡å®šæ•æ‰ç»“æœçš„æ¬¡æ•°

!!! note "è¡¥å……"

    è¡¨è¾¾å¼ä¸»è¦ç”±ognlè¡¨è¾¾å¼ç»„æˆï¼Œå¯ä»¥é€šè¿‡åœ¨ideaè£…ç›¸åº”æ’ä»¶ç”Ÿæˆï¼ŒåŒ…æ‹¬traceã€watchã€ttç­‰å‘½ä»¤ã€‚

### ğŸš watch-å®æ—¶ç›‘æµ‹æ–¹æ³•

å®æ—¶ç›‘æµ‹æ–¹æ³•å…¥å‚ã€è¿”å›å€¼ã€æ˜¯å¦æŠ›å¼‚å¸¸ï¼Œç›¸å½“äºåœ¨ç”Ÿäº§ç¯å¢ƒè°ƒè¯•æ–¹æ³•ã€‚

### ğŸš tt-tannel time

`tt -t ç±»å æ–¹æ³•å -n 5`ï¼Œçœ‹ä¸€æ®µæ—¶é—´å†…ï¼Œæ–¹æ³•è°ƒç”¨æƒ…å†µã€‚

`tt -p -i ç´¢å¼•`ï¼Œé‡æ”¾æŒ‡å®šè¯·æ±‚ã€‚

### ğŸš dashboard-ä»ªè¡¨ç›˜

çœ‹çº¿ç¨‹cpuä½¿ç”¨ç‡ã€æœºå™¨å†…å­˜å˜åŒ–ã€GCé¢‘ç‡ã€‚

=== "GCéƒ¨åˆ†"

    ```shell
    GC:
    [PS Scavenge]  # Young GC
     count: 5  # countå€¼å¿«é€Ÿä¸Šå‡å¯èƒ½æ˜¯é¢‘ç¹GC
     time: 120ms  # ç´¯è®¡è€—æ—¶
    [PS MarkSweep]  # Full GC
     count: 1
     time: 80ms
    ```

åˆ¤æ–­GCæ˜¯å¦é¢‘ç¹

| ç±»å‹       | åˆ¤æ–­æ ‡å‡†              | ä¼˜åŒ–å»ºè®®             |
|:---------|:------------------|:-----------------|
| Young GC | countå¿«é€Ÿå¢é•¿ï¼Œæ¯ç§’>1æ¬¡   | å¢åŠ  -Xmnï¼Œä¼˜åŒ–å¯¹è±¡åˆ†é…é€»è¾‘ |
| Full GC  | 	countå¿«é€Ÿå¢é•¿ï¼Œæ¯åˆ†é’Ÿ>1æ¬¡ | å¢åŠ  -Xmxï¼Œæ’æŸ¥å†…å­˜æ³„æ¼   |
| å•æ¬¡GCè€—æ—¶é•¿  | timeè¾ƒå¤§ï¼Œå•æ¬¡>100msï¼‰  | è°ƒæ•´GCå›æ”¶å™¨          |

### ğŸš jvm-æŸ¥çœ‹jvmä¿¡æ¯

---

å‚è€ƒèµ„æ–™ï¼š

1.[Arthasä½¿ç”¨æ‰‹å†Œ](https://arthas.aliyun.com/doc/quick-start.html)

2.[traceå‘½ä»¤æŸ¥çœ‹æ–¹æ³•æ€§èƒ½å¼€é”€è€—æ—¶ã€è¿½è¸ªæ–¹æ³•è°ƒç”¨è·¯å¾„](https://blog.csdn.net/qq_37279783/article/details/128277011)

3.[trace å‚æ•°](https://www.cnblogs.com/expiator/p/17470441.html)

4.[ä½¿ç”¨Arthaså·¥å…·åˆ†æCPUé£™é«˜](https://zhuanlan.zhihu.com/p/498399364)

5.[Arthas&GCæ—¥å¿—&GCeasyè¯¦è§£](https://blog.csdn.net/qq_43135259/article/details/138507367)